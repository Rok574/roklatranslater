<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>iOS Web Home</title>

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background-size:cover;
background-position:center;
overflow:hidden;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(85px,1fr));
gap:25px;
padding:40px 20px 120px;
}

.app{
text-align:center;
color:white;
font-size:12px;
user-select:none;
}

.icon{
width:72px;
height:72px;
border-radius:20px;
background:rgba(255,255,255,0.25);
backdrop-filter:blur(25px);
display:flex;
align-items:center;
justify-content:center;
margin:auto;
overflow:hidden;
transition:transform .2s;
}

.icon img{
width:100%;
height:100%;
object-fit:cover;
}

.jiggle{
animation:jiggle .25s infinite alternate;
}

@keyframes jiggle{
from{transform:rotate(-2deg);}
to{transform:rotate(2deg);}
}

.dock{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
width:90%;
height:90px;
border-radius:30px;
background:rgba(255,255,255,0.25);
backdrop-filter:blur(30px);
display:flex;
justify-content:space-evenly;
align-items:center;
}

.folder-overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,0.7);
display:none;
flex-direction:column;
align-items:center;
padding-top:80px;
}

.folder-box{
background:rgba(255,255,255,0.15);
backdrop-filter:blur(30px);
border-radius:30px;
padding:20px;
width:85%;
}

.folder-title{
text-align:center;
color:white;
font-size:18px;
margin-bottom:15px;
}

.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
}

.modal-content{
background:#1c1c1e;
padding:20px;
border-radius:20px;
width:90%;
max-width:400px;
color:white;
}

input{
width:100%;
padding:10px;
margin:8px 0;
border-radius:10px;
border:none;
}

button{
width:100%;
padding:10px;
border-radius:12px;
border:none;
background:#0a84ff;
color:white;
margin-top:10px;
}

/* CSS Plus Icon */
.plus-icon{
width:60px;
height:60px;
border-radius:18px;
background:linear-gradient(145deg,#0a84ff,#5ac8fa);
position:relative;
}
.plus-icon::before,
.plus-icon::after{
content:"";
position:absolute;
background:white;
border-radius:5px;
}
.plus-icon::before{
width:40px;
height:8px;
top:26px;
left:10px;
}
.plus-icon::after{
height:40px;
width:8px;
left:26px;
top:10px;
}
</style>
</head>

<body>

<div class="grid" id="grid"></div>

<div class="dock" id="dock"></div>

<div class="folder-overlay" id="folderOverlay">
<div class="folder-box">
<div class="folder-title" id="folderTitle"></div>
<div class="grid" id="folderApps"></div>
</div>
</div>

<div class="modal" id="modal">
<div class="modal-content" id="modalContent"></div>
</div>

<script>
const grid=document.getElementById("grid");
const dock=document.getElementById("dock");
const modal=document.getElementById("modal");
const modalContent=document.getElementById("modalContent");
const folderOverlay=document.getElementById("folderOverlay");
const folderTitle=document.getElementById("folderTitle");
const folderApps=document.getElementById("folderApps");

const settingsIcon="file_00000000bfa071fdb19690b2a2813e8f";

let editing=false;
let apps=JSON.parse(localStorage.getItem("apps")||"[]");
let dockApps=JSON.parse(localStorage.getItem("dockApps")||"[]");

const defaultIOS="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqbDxP4DYF4o2HgMeEuMvponVEvINt1FrCaMX8r5HOCmk9eIwBQP7YpJI&s=10";
const defaultIPad="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbpuXWak4q_NWpGEqrzGloWtRJ0Oe41k_6lqLSjXRxWAQsXgPU9hLZSoW7&s=10";

function isIPad(){
return /iPad/.test(navigator.userAgent)||(navigator.maxTouchPoints>1&&screen.width>1000);
}

function setWallpaper(url){
document.body.style.backgroundImage=`url('${url}')`;
localStorage.setItem("wallpaper",url);
}

function loadWallpaper(){
const saved=localStorage.getItem("wallpaper");
if(saved)setWallpaper(saved);
else setWallpaper(isIPad()?defaultIPad:defaultIOS);
}

function save(){
localStorage.setItem("apps",JSON.stringify(apps));
localStorage.setItem("dockApps",JSON.stringify(dockApps));
}

function createIcon(app,index,container,isDock=false){
const el=document.createElement("div");
el.className="app";
el.draggable=true;

const icon=document.createElement("div");
icon.className="icon";

if(app.type==="adder"){
icon.innerHTML=`<div class="plus-icon"></div>`;
}else{
icon.innerHTML=`<img src="${app.icon}">`;
}

el.appendChild(icon);
el.innerHTML+=`<div>${app.name}</div>`;

el.oncontextmenu=e=>e.preventDefault();

el.onmousedown=()=>{
setTimeout(()=>{
editing=true;
document.querySelectorAll(".icon").forEach(i=>i.classList.add("jiggle"));
},500);
};

el.onclick=()=>{
if(editing)return;
if(app.type==="folder")openFolder(app);
else if(app.url)window.open(app.url,"_blank");
else if(app.action)app.action();
};

el.ondragstart=e=>{
e.dataTransfer.setData("text/plain",index);
};

container.appendChild(el);
}

function render(){
grid.innerHTML="";
dock.innerHTML="";
apps.forEach((a,i)=>createIcon(a,i,grid));
dockApps.forEach((a,i)=>createIcon(a,i,dock,true));
}

grid.ondragover=e=>e.preventDefault();
grid.ondrop=e=>{
const index=e.dataTransfer.getData("text/plain");
const moved=[...apps,dockApps[index]];
};

function openFolder(folder){
folderOverlay.style.display="flex";
folderTitle.innerText=folder.name;
folderApps.innerHTML="";
folder.apps.forEach(a=>createIcon(a,0,folderApps));
folderOverlay.onclick=()=>folderOverlay.style.display="none";
}

function openSettings(){
modalContent.innerHTML=`
<h3>Settings</h3>
<input type="file" accept="image/*" id="bgUpload">
<button onclick="applyBg()">Set Wallpaper</button>
<button onclick="createFolder()">Create Folder</button>
`;
modal.style.display="flex";
}

function applyBg(){
const file=document.getElementById("bgUpload").files[0];
const reader=new FileReader();
reader.onload=e=>{
setWallpaper(e.target.result);
modal.style.display="none";
};
if(file)reader.readAsDataURL(file);
}

function createFolder(){
let name=prompt("Folder Name");
if(!name)return;
apps.push({type:"folder",name:name,apps:[]});
save();
render();
modal.style.display="none";
}

function openAdder(){
modalContent.innerHTML=`
<h3>Web App Adder</h3>
<input id="appName" placeholder="App Name">
<input id="appURL" placeholder="example.com">
<button onclick="addApp()">Add App</button>
`;
modal.style.display="flex";
}

function addApp(){
let name=document.getElementById("appName").value;
let url=document.getElementById("appURL").value;
if(!url.startsWith("http"))url="https://"+url;
apps.push({name:name,url:url,icon:"https://www.google.com/s2/favicons?sz=128&domain="+url});
save();
location.reload();
}

if(apps.length===0){
apps=[
{name:"Chrome",url:"https://google.com",icon:"https://cdn.jim-nielsen.com/ios/512/chrome-web-browser-by-google-2016-01-25.png?rf=512"},
{name:"Web App Adder",type:"adder",action:openAdder},
{name:"Settings",icon:settingsIcon,action:openSettings}
];
save();
}

loadWallpaper();
render();
</script>

</body>
</html>
