<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Home</title>

<style>
:root{
  --app-radius:20px;
  --dock-radius:40px;
}

*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}

html,body{
  height:100%;
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  overflow:hidden;
  background:#000;
  color:white;
}

#wallpaper{
  position:fixed;
  inset:0;
  background:#000 center/cover no-repeat;
  z-index:0;
}

#home{
  position:relative;
  z-index:1;
  padding:40px 20px 140px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:28px;
}

.app{
  text-align:center;
}

.app img{
  width:72px;
  height:72px;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
}

.app span{
  display:block;
  margin-top:6px;
  font-size:13px;
}

#dock{
  position:fixed;
  left:50%;
  bottom:20px;
  transform:translateX(-50%);
  padding:14px 28px;
  display:flex;
  gap:28px;
  border-radius:40px;
  backdrop-filter:blur(30px) saturate(160%);
  -webkit-backdrop-filter:blur(30px) saturate(160%);
  background:rgba(30,30,30,.55);
  box-shadow:0 20px 50px rgba(0,0,0,.6);
}

#dock img{
  width:64px;
  height:64px;
  border-radius:18px;
}

.window{
  position:fixed;
  inset:0;
  background:#000;
  z-index:20;
  display:none;
  flex-direction:column;
}

.header{
  height:56px;
  display:flex;
  align-items:center;
  padding:0 16px;
  border-bottom:1px solid #222;
  font-weight:600;
}

textarea,input{
  width:100%;
  background:#111;
  color:white;
  border:none;
  padding:14px;
  font-size:16px;
}

button{
  margin:12px;
  padding:14px;
  border-radius:14px;
  border:none;
  background:#007aff;
  color:white;
  font-size:16px;
}

#toast{
  position:fixed;
  bottom:120px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(30,30,30,.95);
  padding:12px 20px;
  border-radius:20px;
  display:none;
  z-index:50;
}

input[type=file]{display:none}
</style>
</head>
<body>

<div id="wallpaper"></div>

<div id="home"></div>

<div id="dock"></div>

<div id="toast"></div>

<div id="notes" class="window">
  <div class="header">Notes</div>
  <textarea id="noteArea"></textarea>
  <button onclick="saveNote()">Save</button>
  <button onclick="closeWindow('notes')">Close</button>
</div>

<div id="google" class="window">
  <div class="header">Google</div>
  <input id="searchInput" placeholder="Search or type URL">
  <button onclick="search()">Go</button>
  <button onclick="addFavorite()">Add to Favorites</button>
  <div id="favoritesList"></div>
  <button onclick="closeWindow('google')">Close</button>
</div>

<input type="file" id="wallInput" accept="image/*">

<script>
const home=document.getElementById('home');
const dock=document.getElementById('dock');
const toast=document.getElementById('toast');

let apps=[
  {name:"Notes",icon:"https://i.imgur.com/9D6V4Xx.png",action:"notes"},
  {name:"Google",icon:"https://i.imgur.com/XV3Txqf.png",action:"google"},
  {name:"Wallpaper",icon:"https://i.imgur.com/crghH6U.png",action:"wall"},
];

function render(){
  home.innerHTML='';
  dock.innerHTML='';
  apps.forEach((app,i)=>{
    const el=document.createElement('div');
    el.className='app';
    el.innerHTML=`<img src="${app.icon}"><span>${app.name}</span>`;
    el.onclick=()=>openApp(app.action);
    if(i<2)dock.appendChild(el.cloneNode(true));
    home.appendChild(el);
  });
}

function openApp(action){
  if(action==="notes"){
    document.getElementById('notes').style.display='flex';
    document.getElementById('noteArea').value=
      localStorage.getItem('note')||'';
  }
  if(action==="google"){
    document.getElementById('google').style.display='flex';
    renderFavorites();
  }
  if(action==="wall"){
    document.getElementById('wallInput').click();
  }
}

function closeWindow(id){
  document.getElementById(id).style.display='none';
}

function saveNote(){
  localStorage.setItem('note',
    document.getElementById('noteArea').value);
  showToast("Saved");
}

function search(){
  let val=document.getElementById('searchInput').value;
  if(!val.startsWith('http'))val="https://"+val;
  window.open(val,'_blank');
}

function addFavorite(){
  let val=document.getElementById('searchInput').value;
  if(!val)return;
  let favs=JSON.parse(localStorage.getItem('favs'))||[];
  if(!favs.includes(val)){
    favs.push(val);
    localStorage.setItem('favs',JSON.stringify(favs));
    showToast("Added to Favorites");
    renderFavorites();
  }
}

function renderFavorites(){
  const list=document.getElementById('favoritesList');
  let favs=JSON.parse(localStorage.getItem('favs'))||[];
  list.innerHTML='';
  favs.forEach(f=>{
    const d=document.createElement('div');
    d.textContent=f;
    d.onclick=()=>window.open(f,'_blank');
    list.appendChild(d);
  });
}

function showToast(msg){
  toast.textContent=msg;
  toast.style.display='block';
  setTimeout(()=>toast.style.display='none',1800);
}

document.getElementById('wallInput').onchange=e=>{
  const file=e.target.files[0];
  const reader=new FileReader();
  reader.onload=()=>{
    localStorage.setItem('wall',reader.result);
    document.getElementById('wallpaper')
      .style.backgroundImage=`url(${reader.result})`;
  };
  reader.readAsDataURL(file);
};

const savedWall=localStorage.getItem('wall');
if(savedWall){
  document.getElementById('wallpaper')
    .style.backgroundImage=`url(${savedWall})`;
}

render();
</script>
</body>
</html>
